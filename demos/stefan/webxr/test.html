<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
  </head>
  <body>
    <img id='turtok' src='./turtok.png' />
    <div id='msg' async>hello</div>
    <button id='btn' onclick='start()'>start webxr</button>
    <script>
      document.body.insertAdjacentText('beforeend', 'hello23')

      async function start() {
        btn.remove()
        try {
          const img = document.getElementById('turtok');
          const imgBitmap = await createImageBitmap(img);

          var a = await navigator.xr.isSessionSupported('inline');
          var b = await navigator.xr.isSessionSupported('immersive-ar');
          var c = await navigator.xr.isSessionSupported('immersive-vr');

      document.body.insertAdjacentText('beforeend', 'a: ' + a)

          const session3 = await navigator.xr.requestSession("inline", {
  // requiredFeatures: ["depth-sensing"],
  // depthSensing: {
  //   usagePreference: ["cpu-optimized", "gpu-optimized"],
  //   dataFormatPreference: ["luminance-alpha", "float32"],
  // },
});
          
          
      document.body.insertAdjacentText('beforeend', 'b')

//           const session = await navigator.xr.requestSession('immersive-ar', {
//   requiredFeatures: ['image-tracking'],
//   trackedImages: [
//     {
//       image: imgBitmap,
//       widthInMeters: 0.05
//     }
//   ]
// });
// session

          msg.innerHTML = 'world' + a + b + c + typeof createImageBitmap;
        } catch (error) {
          msg.innerHTML = error;
        }
      }
    </script>
  </body>
</html>