<!DOCTYPE html>
<html lang="en">
<head>
<title>ACE in Action</title>
<style type="text/css" media="screen">
    #editor { 
        height: 400px;
        width: 800px;
    }

    #console { 
        height: 300px;
        width: 800px;
    }

    #commandline { 
        width: 800px;
    }

</style>
<script src="https://code.jquery.com/jquery-2.1.4.js" type="text/javascript" charset="utf-8"></script>
<script src="../system.src.js" type="text/javascript" charset="utf-8"></script>
<script>
  System.config({
    // or 'traceur' or 'typescript'
    transpiler: 'babel',
    // or traceurOptions or typescriptOptions
    babelOptions: {
        //modules: "amd"
    },
    map: {
        babel: '../babel-core/browser.js'
    }
  });
</script>
</head>
<body>
<h1>Hello Lively4 -- The Beginnings</h1>

<button onclick="fileEditor.loadfile()">load</button>
<button onclick="fileEditor.savefile()">save</button>
<input type="text" id="filename" value="README.md">
<div id="editor">function foo(items) {
    var x = "All this is syntax highlighted";
    return x;
}</div>

<script src="ace.js" type="text/javascript" charset="utf-8"></script>
<script>
    var editor = ace.edit("editor");
    //editor.setTheme("ace/theme/monokai");
    //editor.getSession().setMode("ace/mode/javascript");
</script>

<pre id="console"></pre>
$<input type="text" id="commandline" value="">
<script>
    function log(s) {
        $('#console').text($('#console').text() + "\n" + s)
    }
    System.import("load.js").then(log);

    $('#commandline').keyup(function(e){
        if(e.keyCode == 13)
        {
            var src = $('#commandline').val()
            try { var result = eval(src) } catch(e) { result = "Error:" +e}
            log("eval " + src + " -> " + result)
        }
    })

</script>



</body>
</html>